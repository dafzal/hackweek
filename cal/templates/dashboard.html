{% extends "base.html" %}
{% block extra_css %}
<link rel='stylesheet' type='text/css' href="{{url_for('static',filename='fullcalendar/css/fullcalendar.css')}}" />
<link rel='stylesheet' type='text/css' href="{{url_for('static',filename='fullcalendar/css/fullcalendar.print.css')}}" />
<script type='text/javascript' src="{{url_for('static',filename='fullcalendar/js/fullcalendar.min.js')}}"></script>
<style>
  .dark-grey-bg {
    background-color: rgb(102,102,102);
  }
</style>
{% endblock %}
{% block content %}
<nav class="navbar navbar-inverse navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <a class="navbar-brand" href="#"><h4>Let's<span class="orange">Meet</span></h4></a>
    </div>
    <ul class="nav navbar-nav navbar-right">
      <li>
        <a href="/overview">
          <h4><span class="glyphicon glyphicon-user"></span> {{user_name}} </h4>
        </a>
      </li>
      <li>
        <a href="#">
          <h4><span class="glyphicon glyphicon-plus"></span> Create Event </h4>
        </a>
      </li>
      <li><a href="/logout"><h4>Sign out</h4></a></li>
    </ul>
</nav>

<div class="jumbotron white-bg" style='height:100px'>
  <div class="container">
    <h2 class="dark-grey">Finalized Events</h2>  
  </div>
</div>

<div class="dark-grey-bg">
  <div class="container" id="calendar"></div>
</div>
{% endblock %}
{% block extra_js %} 
<script>
  $(document).ready(function() {
      event_array = []
      for (e in {{events}}) {
        event_array.push({
          title: e['name'],
          start: e['final_from_time'],
          allDay: false
        })
      }
      console.log(event_array)
      $('#calendar').fullCalendar({
        header: {
          left: 'prev, title, next',
          center: '',
          right: 'year,month,basicWeek'
        },
        editable: false,
        events: event_array
      })
  });
</script>
{% endblock %}